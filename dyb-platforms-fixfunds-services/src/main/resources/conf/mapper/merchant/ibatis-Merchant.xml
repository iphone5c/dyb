<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 2016/9/26 9:20:02 lenovo created. -->
<!-- Generated by Caven.CodeBuilder (funiJava.mybatis_map 1.0). -->

<mapper namespace="com.dyb.platforms.fixfunds.services.business.merchant.dao.IMerchantDao">

    <resultMap type="com.dyb.platforms.fixfunds.services.business.merchant.entity.Merchant" id="resultMap">
        <id property="merchantCode" column="merchantcode" />
        <result property="merchantName" column="merchantname" />
        <result property="incentiveMode" column="incentivemode" />
        <result property="shopName" column="shopname" />
        <result property="merchantType" column="merchanttype" />
        <result property="businessStartTime" column="businessstarttime" />
        <result property="businessEndTime" column="businessendtime" />
        <result property="merchantAddress" column="merchantaddress" />
        <result property="province" column="province" />
        <result property="city" column="city" />
        <result property="mainBusiness" column="mainbusiness" />
        <result property="industryType" column="industrytype" />
        <result property="industry" column="industry" />
        <result property="scale" column="scale" />
        <result property="countryPhone" column="countryphone" />
        <result property="merchantDescription" column="merchantdescription" />
        <result property="principalName" column="principalname" />
        <result property="principalJobs" column="principaljobs" />
        <result property="principalSex" column="principalsex" />
        <result property="principalIdCard" column="principalidcard" />
        <result property="principalEmail" column="principalemail" />
        <result property="certificateFile" column="certificatefile" />
        <result property="accountCode" column="accountcode" />
        <result property="longitude" column="longitude" />
        <result property="latitude" column="latitude" />
    </resultMap>

    <sql id="baseCol">
        merchantcode, merchantname, incentivemode, shopname, merchanttype, businessstarttime, businessendtime, merchantaddress, province, city, mainbusiness, industrytype, industry, scale, countryphone, merchantdescription, principalname, principaljobs, principalsex, principalidcard, principalemail, certificatefile, accountcode, longitude, latitude
    </sql>

    <sql id="whereSql">
        <trim prefix="WHERE" prefixOverrides="and |or ">
            <if test="merchantCode != null"><![CDATA[ and merchantcode like #{merchantCode} ]]></if>
            <if test="merchantCode_enum != null">
                <![CDATA[ and merchantcode in ]]>
                <foreach collection="merchantCode_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="merchantName != null"><![CDATA[ and merchantname like #{merchantName} ]]></if>
            <if test="merchantName_enum != null">
                <![CDATA[ and merchantname in ]]>
                <foreach collection="merchantName_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="incentiveMode != null"><![CDATA[ and incentivemode = #{incentiveMode} ]]></if>
            <if test="incentiveMode_r_min != null"><![CDATA[ and incentivemode >= #{incentiveMode_r_min} and incentivemode <= #{incentiveMode_r_max} ]]></if>
            <if test="incentiveMode_enum != null">
                <![CDATA[ and incentivemode in ]]>
                <foreach collection="incentiveMode_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="shopName != null"><![CDATA[ and shopname like #{shopName} ]]></if>
            <if test="shopName_enum != null">
                <![CDATA[ and shopname in ]]>
                <foreach collection="shopName_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="merchantType != null"><![CDATA[ and merchanttype like #{merchantType} ]]></if>
            <if test="merchantType_enum != null">
                <![CDATA[ and merchanttype in ]]>
                <foreach collection="merchantType_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="businessStartTime != null"><![CDATA[ and businessstarttime like #{businessStartTime} ]]></if>
            <if test="businessStartTime_enum != null">
                <![CDATA[ and businessstarttime in ]]>
                <foreach collection="businessStartTime_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="businessEndTime != null"><![CDATA[ and businessendtime like #{businessEndTime} ]]></if>
            <if test="businessEndTime_enum != null">
                <![CDATA[ and businessendtime in ]]>
                <foreach collection="businessEndTime_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="merchantAddress != null"><![CDATA[ and merchantaddress like #{merchantAddress} ]]></if>
            <if test="merchantAddress_enum != null">
                <![CDATA[ and merchantaddress in ]]>
                <foreach collection="merchantAddress_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="province != null"><![CDATA[ and province like #{province} ]]></if>
            <if test="province_enum != null">
                <![CDATA[ and province in ]]>
                <foreach collection="province_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="city != null"><![CDATA[ and city like #{city} ]]></if>
            <if test="city_enum != null">
                <![CDATA[ and city in ]]>
                <foreach collection="city_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="mainBusiness != null"><![CDATA[ and mainbusiness like #{mainBusiness} ]]></if>
            <if test="mainBusiness_enum != null">
                <![CDATA[ and mainbusiness in ]]>
                <foreach collection="mainBusiness_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="industryType != null"><![CDATA[ and industrytype like #{industryType} ]]></if>
            <if test="industryType_enum != null">
                <![CDATA[ and industrytype in ]]>
                <foreach collection="industryType_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="industry != null"><![CDATA[ and industry like #{industry} ]]></if>
            <if test="industry_enum != null">
                <![CDATA[ and industry in ]]>
                <foreach collection="industry_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="scale != null"><![CDATA[ and scale like #{scale} ]]></if>
            <if test="scale_enum != null">
                <![CDATA[ and scale in ]]>
                <foreach collection="scale_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="countryPhone != null"><![CDATA[ and countryphone like #{countryPhone} ]]></if>
            <if test="countryPhone_enum != null">
                <![CDATA[ and countryphone in ]]>
                <foreach collection="countryPhone_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="merchantDescription != null"><![CDATA[ and merchantdescription like #{merchantDescription} ]]></if>
            <if test="merchantDescription_enum != null">
                <![CDATA[ and merchantdescription in ]]>
                <foreach collection="merchantDescription_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="principalName != null"><![CDATA[ and principalname like #{principalName} ]]></if>
            <if test="principalName_enum != null">
                <![CDATA[ and principalname in ]]>
                <foreach collection="principalName_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="principalJobs != null"><![CDATA[ and principaljobs like #{principalJobs} ]]></if>
            <if test="principalJobs_enum != null">
                <![CDATA[ and principaljobs in ]]>
                <foreach collection="principalJobs_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="principalSex != null"><![CDATA[ and principalsex like #{principalSex} ]]></if>
            <if test="principalSex_enum != null">
                <![CDATA[ and principalsex in ]]>
                <foreach collection="principalSex_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="principalIdCard != null"><![CDATA[ and principalidcard like #{principalIdCard} ]]></if>
            <if test="principalIdCard_enum != null">
                <![CDATA[ and principalidcard in ]]>
                <foreach collection="principalIdCard_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="principalEmail != null"><![CDATA[ and principalemail like #{principalEmail} ]]></if>
            <if test="principalEmail_enum != null">
                <![CDATA[ and principalemail in ]]>
                <foreach collection="principalEmail_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="certificateFile != null"><![CDATA[ and certificatefile like #{certificateFile} ]]></if>
            <if test="certificateFile_enum != null">
                <![CDATA[ and certificatefile in ]]>
                <foreach collection="certificateFile_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="accountCode != null"><![CDATA[ and accountcode like #{accountCode} ]]></if>
            <if test="accountCode_enum != null">
                <![CDATA[ and accountcode in ]]>
                <foreach collection="accountCode_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="longitude != null"><![CDATA[ and longitude like #{longitude} ]]></if>
            <if test="longitude_enum != null">
                <![CDATA[ and longitude in ]]>
                <foreach collection="longitude_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="latitude != null"><![CDATA[ and latitude like #{latitude} ]]></if>
            <if test="latitude_enum != null">
                <![CDATA[ and latitude in ]]>
                <foreach collection="latitude_enum" item="value" open="(" separator="," close=")">
                    <![CDATA[ #{value} ]]>
                </foreach>
            </if>
            <if test="_default_mulattr != null">
                <![CDATA[ and ]]>
                <foreach collection="_default_mulattr" item="item" open="(" separator=" or " close=")">
                    <if test="item.name == 'merchantCode'"><![CDATA[ merchantcode like #{item.value} ]]></if>
                    <if test="item.name == 'merchantName'"><![CDATA[ merchantname like #{item.value} ]]></if>
                    <if test="item.name == 'shopName'"><![CDATA[ shopname like #{item.value} ]]></if>
                    <if test="item.name == 'merchantType'"><![CDATA[ merchanttype like #{item.value} ]]></if>
                    <if test="item.name == 'businessStartTime'"><![CDATA[ businessstarttime like #{item.value} ]]></if>
                    <if test="item.name == 'businessEndTime'"><![CDATA[ businessendtime like #{item.value} ]]></if>
                    <if test="item.name == 'merchantAddress'"><![CDATA[ merchantaddress like #{item.value} ]]></if>
                    <if test="item.name == 'province'"><![CDATA[ province like #{item.value} ]]></if>
                    <if test="item.name == 'city'"><![CDATA[ city like #{item.value} ]]></if>
                    <if test="item.name == 'mainBusiness'"><![CDATA[ mainbusiness like #{item.value} ]]></if>
                    <if test="item.name == 'industryType'"><![CDATA[ industrytype like #{item.value} ]]></if>
                    <if test="item.name == 'industry'"><![CDATA[ industry like #{item.value} ]]></if>
                    <if test="item.name == 'scale'"><![CDATA[ scale like #{item.value} ]]></if>
                    <if test="item.name == 'countryPhone'"><![CDATA[ countryphone like #{item.value} ]]></if>
                    <if test="item.name == 'merchantDescription'"><![CDATA[ merchantdescription like #{item.value} ]]></if>
                    <if test="item.name == 'principalName'"><![CDATA[ principalname like #{item.value} ]]></if>
                    <if test="item.name == 'principalJobs'"><![CDATA[ principaljobs like #{item.value} ]]></if>
                    <if test="item.name == 'principalSex'"><![CDATA[ principalsex like #{item.value} ]]></if>
                    <if test="item.name == 'principalIdCard'"><![CDATA[ principalidcard like #{item.value} ]]></if>
                    <if test="item.name == 'principalEmail'"><![CDATA[ principalemail like #{item.value} ]]></if>
                    <if test="item.name == 'certificateFile'"><![CDATA[ certificatefile like #{item.value} ]]></if>
                    <if test="item.name == 'accountCode'"><![CDATA[ accountcode like #{item.value} ]]></if>
                    <if test="item.name == 'longitude'"><![CDATA[ longitude like #{item.value} ]]></if>
                    <if test="item.name == 'latitude'"><![CDATA[ latitude like #{item.value} ]]></if>
                </foreach>
            </if>
        </trim>
    </sql>

    <sql id="orderSql">
        <trim prefix="ORDER BY" suffixOverrides=",">
            <if test="_orderBy == 'merchantCode_desc'"><![CDATA[ merchantcode desc, ]]></if>
            <if test="_orderBy == 'merchantCode_asc'"><![CDATA[ merchantcode, ]]></if>
            <if test="_orderBy == 'merchantName_desc'"><![CDATA[ merchantname desc, ]]></if>
            <if test="_orderBy == 'merchantName_asc'"><![CDATA[ merchantname, ]]></if>
            <if test="_orderBy == 'incentiveMode_desc'"><![CDATA[ incentivemode desc, ]]></if>
            <if test="_orderBy == 'incentiveMode_asc'"><![CDATA[ incentivemode, ]]></if>
            <if test="_orderBy == 'shopName_desc'"><![CDATA[ shopname desc, ]]></if>
            <if test="_orderBy == 'shopName_asc'"><![CDATA[ shopname, ]]></if>
            <if test="_orderBy == 'merchantType_desc'"><![CDATA[ merchanttype desc, ]]></if>
            <if test="_orderBy == 'merchantType_asc'"><![CDATA[ merchanttype, ]]></if>
            <if test="_orderBy == 'businessStartTime_desc'"><![CDATA[ businessstarttime desc, ]]></if>
            <if test="_orderBy == 'businessStartTime_asc'"><![CDATA[ businessstarttime, ]]></if>
            <if test="_orderBy == 'businessEndTime_desc'"><![CDATA[ businessendtime desc, ]]></if>
            <if test="_orderBy == 'businessEndTime_asc'"><![CDATA[ businessendtime, ]]></if>
            <if test="_orderBy == 'merchantAddress_desc'"><![CDATA[ merchantaddress desc, ]]></if>
            <if test="_orderBy == 'merchantAddress_asc'"><![CDATA[ merchantaddress, ]]></if>
            <if test="_orderBy == 'province_desc'"><![CDATA[ province desc, ]]></if>
            <if test="_orderBy == 'province_asc'"><![CDATA[ province, ]]></if>
            <if test="_orderBy == 'city_desc'"><![CDATA[ city desc, ]]></if>
            <if test="_orderBy == 'city_asc'"><![CDATA[ city, ]]></if>
            <if test="_orderBy == 'mainBusiness_desc'"><![CDATA[ mainbusiness desc, ]]></if>
            <if test="_orderBy == 'mainBusiness_asc'"><![CDATA[ mainbusiness, ]]></if>
            <if test="_orderBy == 'industryType_desc'"><![CDATA[ industrytype desc, ]]></if>
            <if test="_orderBy == 'industryType_asc'"><![CDATA[ industrytype, ]]></if>
            <if test="_orderBy == 'industry_desc'"><![CDATA[ industry desc, ]]></if>
            <if test="_orderBy == 'industry_asc'"><![CDATA[ industry, ]]></if>
            <if test="_orderBy == 'scale_desc'"><![CDATA[ scale desc, ]]></if>
            <if test="_orderBy == 'scale_asc'"><![CDATA[ scale, ]]></if>
            <if test="_orderBy == 'countryPhone_desc'"><![CDATA[ countryphone desc, ]]></if>
            <if test="_orderBy == 'countryPhone_asc'"><![CDATA[ countryphone, ]]></if>
            <if test="_orderBy == 'merchantDescription_desc'"><![CDATA[ merchantdescription desc, ]]></if>
            <if test="_orderBy == 'merchantDescription_asc'"><![CDATA[ merchantdescription, ]]></if>
            <if test="_orderBy == 'principalName_desc'"><![CDATA[ principalname desc, ]]></if>
            <if test="_orderBy == 'principalName_asc'"><![CDATA[ principalname, ]]></if>
            <if test="_orderBy == 'principalJobs_desc'"><![CDATA[ principaljobs desc, ]]></if>
            <if test="_orderBy == 'principalJobs_asc'"><![CDATA[ principaljobs, ]]></if>
            <if test="_orderBy == 'principalSex_desc'"><![CDATA[ principalsex desc, ]]></if>
            <if test="_orderBy == 'principalSex_asc'"><![CDATA[ principalsex, ]]></if>
            <if test="_orderBy == 'principalIdCard_desc'"><![CDATA[ principalidcard desc, ]]></if>
            <if test="_orderBy == 'principalIdCard_asc'"><![CDATA[ principalidcard, ]]></if>
            <if test="_orderBy == 'principalEmail_desc'"><![CDATA[ principalemail desc, ]]></if>
            <if test="_orderBy == 'principalEmail_asc'"><![CDATA[ principalemail, ]]></if>
            <if test="_orderBy == 'certificateFile_desc'"><![CDATA[ certificatefile desc, ]]></if>
            <if test="_orderBy == 'certificateFile_asc'"><![CDATA[ certificatefile, ]]></if>
            <if test="_orderBy == 'accountCode_desc'"><![CDATA[ accountcode desc, ]]></if>
            <if test="_orderBy == 'accountCode_asc'"><![CDATA[ accountcode, ]]></if>
            <if test="_orderBy == 'longitude_desc'"><![CDATA[ longitude desc, ]]></if>
            <if test="_orderBy == 'longitude_asc'"><![CDATA[ longitude, ]]></if>
            <if test="_orderBy == 'latitude_desc'"><![CDATA[ latitude desc, ]]></if>
            <if test="_orderBy == 'latitude_asc'"><![CDATA[ latitude, ]]></if>
        </trim>
    </sql>

    <insert id="insertObject" parameterType="com.dyb.platforms.fixfunds.services.business.merchant.entity.Merchant">
        insert into
        dyb_merchant(merchantcode,merchantname,incentivemode,shopname,merchanttype,businessstarttime,businessendtime,merchantaddress,province,city,mainbusiness,industrytype,industry,scale,countryphone,merchantdescription,principalname,principaljobs,principalsex,principalidcard,principalemail,certificatefile,accountcode,longitude,latitude)
        values(#{merchantCode},#{merchantName},#{incentiveMode},#{shopName},#{merchantType},#{businessStartTime},#{businessEndTime},#{merchantAddress},#{province},#{city},#{mainBusiness},#{industryType},#{industry},#{scale},#{countryPhone},#{merchantDescription},#{principalName},#{principalJobs},#{principalSex},#{principalIdCard},#{principalEmail},#{certificateFile},#{accountCode},#{longitude},#{latitude});
    </insert>

    <update id="updateObject" parameterType="com.dyb.platforms.fixfunds.services.business.merchant.entity.Merchant">
        update dyb_merchant
        set merchantname=#{merchantName},incentivemode=#{incentiveMode},shopname=#{shopName},merchanttype=#{merchantType},businessstarttime=#{businessStartTime},businessendtime=#{businessEndTime},merchantaddress=#{merchantAddress},province=#{province},city=#{city},mainbusiness=#{mainBusiness},industrytype=#{industryType},industry=#{industry},scale=#{scale},countryphone=#{countryPhone},merchantdescription=#{merchantDescription},principalname=#{principalName},principaljobs=#{principalJobs},principalsex=#{principalSex},principalidcard=#{principalIdCard},principalemail=#{principalEmail},certificatefile=#{certificateFile},accountcode=#{accountCode},latitude=#{latitude},longitude=#{longitude}
        where merchantcode=#{merchantCode};
    </update>

    <delete id="deleteObject" parameterType="string">
        delete from dyb_merchant where merchantcode=#{merchantCode};
    </delete>

    <delete id="deleteObjectByWhere" parameterType="com.dyb.platforms.fixfunds.services.utils.core.QueryParams">
        delete from dyb_merchant
        <include refid="whereSql" />
    </delete>

    <select id="getBaseObject" parameterType="string" resultMap="resultMap">
        select
        <include refid="baseCol" />
        from dyb_merchant where merchantcode=#{merchantCode};
    </select>

    <select id="getDetailObject" parameterType="string" resultMap="resultMap">
        select * from dyb_merchant where merchantcode=#{merchantCode};
    </select>

    <select id="queryCount" parameterType="com.dyb.platforms.fixfunds.services.utils.core.QueryParams" resultType="int">
        select count(*) from dyb_merchant
        <include refid="whereSql" />
    </select>

    <select id="queryBaseList" parameterType="com.dyb.platforms.fixfunds.services.utils.core.QueryParams" resultMap="resultMap">
        select
        <include refid="baseCol" />
        from dyb_merchant
        <include refid="whereSql" />
        <include refid="orderSql" />
    </select>

    <select id="queryDetailList" parameterType="com.dyb.platforms.fixfunds.services.utils.core.QueryParams" resultMap="resultMap">
        select * from dyb_merchant
        <include refid="whereSql" />
        <include refid="orderSql" />
    </select>
</mapper> 


